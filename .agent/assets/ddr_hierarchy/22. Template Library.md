
## 22. Template Library

### 22.1 New Feature Template

Use this template when documenting a new feature from scratch:

~~~markdown
## Feature: [Feature Name]

### BRD: Business Justification
|BRD-X|: "[Feature Name]"
[Problem being solved, market opportunity, competitive advantage]

**Success Metrics:**
- [Metric 1]: [Target value]
- [Metric 2]: [Target value]

### NFR: Constraints & Limits
|NFR-X| ← |BRD-X|: "[Feature Name] Constraints"
  |NFR-X.1|: [Performance constraint with measurement]
  |NFR-X.2|: [Resource constraint (CPU/GPU/RAM/Storage)]
  |NFR-X.3|: [Security/Privacy constraint]
  |NFR-X.4|: [Scalability limit]

### FSD: User-Facing Behavior
|FSD-X| ← |NFR-X|: "[Feature Name] Workflow"
  |FSD-X.1|: [User action 1] → [System response]
  |FSD-X.2|: [User action 2] → [System response]
  |FSD-X.3|: [Error scenario] → [Fallback behavior]

### SAD: Architecture
|SAD-X| ← |FSD-X|: "[Feature Name] Architecture"
  |SAD-X.1|: [Pattern selection with rationale]
  |SAD-X.2|: [Component topology/interaction]
  |SAD-X.3|: [Technology choices]

### ICD: Data Contracts
|ICD-X| ← |SAD-X|: "[Feature Name] Schemas"
```json
{
  "command": "...",
  "payload": {...}
}

```

### TDD: Component Design

|TDD-X| ← |ICD-X|, |SAD-X|: "Component: [ClassName]" |TDD-X.1|: Class: [ClassName] |TDD-X.2|: Dependencies: [list] |TDD-X.3|: Method: [signature]

### ISP: Implementation Stub

|ISP-X| ← |TDD-X|:

```python
class [ClassName]:
    """
    [Description]

    Implements
    ----------
    |TDD-X|, |FSD-X|
    """
    def __init__(self, ...):
        """..."""
        pass

```

~~~

---

### 22.2 Bug Fix Documentation Template

When fixing bugs, update documentation to prevent recurrence:

~~~markdown
## Bug Fix: [Bug ID/Title]

### Root Cause Analysis
**Tier:** [Which tier had incorrect specification]
**Tag:** |[TIER]-X| (the tag with the bug)

**Symptom:** [User-observable behavior]
**Root Cause:** [Technical explanation]

### Documentation Updates

**BEFORE (Incorrect):**

```

|[TAG]|: [Old content with bug]

```

**AFTER (Corrected):**

```

|[TAG]|: [New content fixing bug]

|[TAG].R1| (NEW RATIONALE): Previous spec caused [bug] because [explanation]. Updated to [solution] which prevents [failure mode].

```

### Downstream Impacts
- |TAG-CHILD-1|: [Update required? Yes/No]
- |TAG-CHILD-2|: [Update required? Yes/No]

### Test Coverage Addition
|TEST-X| ← |TAG|:
```python
def test_[bug_scenario]():
    """Regression test for Bug [ID]."""
    # Test that previously failing scenario now passes

```

~~~

---

### 22.3 Refactoring Documentation Template

When refactoring requires tag restructuring:

~~~markdown
## Refactoring: [Refactor Name]

### Motivation
**Problem:** [Why existing structure is problematic]
**Solution:** [How reorganization improves it]

### Migration Map
| Old Tag | New Tag | Status | Notes |
|---------|---------|--------|-------|
| `|OLD-1|` | `|NEW-1|` | MOVED | Content unchanged |
| `|OLD-2|` | `|NEW-2|` | SPLIT | Split into NEW-2.1, NEW-2.2 |
| `|OLD-3|` | DELETED | MERGED | Merged into NEW-1 |

### Backward Compatibility

```

|OLD-1| [DEPRECATED v2.5 → See |NEW-1|]: "..."

```

### Citation Updates
**Automated:**
- All `← |OLD-1|` citations replaced with `← |NEW-1|`

**Manual Review Required:**
- |CHILD-X|: Check if split requires citing both NEW-2.1 and NEW-2.2

~~~

----------
