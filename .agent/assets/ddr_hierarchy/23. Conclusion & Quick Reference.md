
## 23. Conclusion & Quick Reference

### 23.1 The Golden Rules

1.  **Abstraction Always Flows Downward:** BRD → NFR → FSD → SAD → ICD → TDD → ISP
2.  **Citations Always Flow Upward:** Every tag cites its justification (`← |PARENT|`)
3.  **IDs Are Immutable:** Never renumber, always append
4.  **Orphans Must Be Resolved:** Every tag needs a parent (except BRD root)
5.  **Rationale Is Mandatory:** Design decisions require explicit justification
6.  **Tiers Are Fixed:** Seven tiers only, no custom intermediate layers

### 23.2 Quick Classification Checklist

**When you have a new piece of information, ask:**

-   [ ] Does it answer "Why build this?" → **BRD**
-   [ ] Does it define hard limits (hardware/SLAs)? → **NFR**
-   [ ] Does it describe what users experience? → **FSD**
-   [ ] Does it specify architectural patterns? → **SAD**
-   [ ] Does it define data shapes (JSON/YAML)? → **ICD**
-   [ ] Does it describe class structure? → **TDD**
-   [ ] Is it executable Python code? → **ISP**


### 23.3 Common Mistakes Summary


| Mistake | Problem | Solution |
| :--- | :--- | :--- |
| Technology in BRD | "Use PostgreSQL" | Abstract to "Persistent storage" in BRD, specify PostgreSQL in SAD |
| Missing citations | Orphaned tags | Add `<-` |
| Implementation in FSD | "Uses zmq_ROUTER socket" | Move to SAD/TDD, keep FSD focused on behavior |
| Schema in SAD | JSON structures in architecture | Move data schemas to ICD tier |
| Complete code in ISP | Fully implemented methods | Provide stubs with `pass` and implementation notes |
| Sibling citations | ` | FSD-4.2 |
| Renumbering tags | Changing ` | FSD-5 |
| No rationale | Design choice without justification | Add ` |
| Vague constraints | "Fast performance" | Specify measurable targets: "<1s latency" |
| Mixed abstractions | Combining BRD and NFR in one tag | Decompose into separate tier-appropriate tags |

----------
