
## 3. Cross-Tier Distinction Demonstrations

### 3.1 Wake Word Detection Feature (Vertical Slice)

**BRD Perspective (Why):**

```
|BRD-5.1|: "Offline, multi-process Python framework."

```

-   **Focus:** Business justification for voice interaction without internet

**NFR Perspective (Constraints):**

```
|NFR-3.2|: "Audio Priority: CPU-bound services must prioritize low-latency."

```

-   **Focus:** Performance constraint on wake word detection

**FSD Perspective (What):**

```
|FSD-4.1|: "Wake Word: Always-on detection using pvporcupine."
|FSD-4.2|: "Must only send WAKE_WORD_DETECTED if Core is in idle state."

```

-   **Focus:** Functional behavior and business rule

**SAD Perspective (How Structured):**

```
|SAD-4.1|: "Receiver thread polls ZMQ socket, pushes to PriorityQueue."

```

-   **Focus:** Concurrency architecture for non-blocking wake word handling

**ICD Perspective (Contracts):**

```json
|ICD-3|: {"command": "WAKE_WORD_DETECTED", "priority": 0, ...}

```

-   **Focus:** Exact message format sent by Audio Service

**TDD Perspective (Components):**

```
|TDD-2.9|: "UI: installEventFilter to catch Click-to-Wake events."

```

-   **Focus:** Component-level implementation requirement

**ISP Perspective (Code):**

```python
def audio_worker_loop(client: ServiceClient):
    # Setup pvporcupine
    if is_wake_word(audio_chunk):
        client.send_request("WAKE_WORD_DETECTED", ...)

```

-   **Focus:** Executable scaffold

### 3.2 Error Handling (Cross-Cutting Concern)

| Tier | Content | Distinction |
| :--- | :--- | :--- |
| **BRD** | ` | BRD-3.4 |
| **NFR** | ` | NFR-5.2 |
| **FSD** | ` | FSD-7.2 |
| **SAD** | ` | SAD-5.1 |
| **ICD** | ` | ICD-4 |
| **TDD** | ` | TDD-1.9 |
| **ISP** | `def check_timeouts(self): pass` | Code stub |

----------
